spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/SkillVerseDB}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:12345}

  jpa:
    hibernate:
      ddl-auto: create
    show-sql: true
    properties:
      hibernate.dialect: org.hibernate.dialect.PostgreSQLDialect

  mail:
    host: ${SPRING_MAIL_HOST:smtp.gmail.com}
    port: ${SPRING_MAIL_PORT:587}
    username: ${SPRING_MAIL_USERNAME:skillverseexe@gmail.com}
    password: ${SPRING_MAIL_PASSWORD:fgbx gygh iglz dcou} # Gmail App Password
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
          connectiontimeout: 5000
          timeout: 3000
          writetimeout: 5000

  jackson:
    # Thời gian, ngày tháng
    date-format: ${SPRING_JACKSON_DATE_FORMAT:yyyy-MM-dd'T'HH:mm:ss.SSS'Z'}
    time-zone: ${SPRING_JACKSON_TIME_ZONE:Asia/Ho_Chi_Minh}

    # Cách hiển thị
    serialization:
      indent-output: true # format JSON đẹp dễ đọc
      write-dates-as-timestamps: false # in ISO-8601 thay vì epoch

    deserialization:
      fail-on-unknown-properties: false # bỏ qua field lạ trong JSON input

    mapper:
      accept-case-insensitive-enums: true # cho phép enum không phân biệt hoa/thường

jwt:
  secret: ${JWT_SECRET:1TjXchw5FloESb63Kc+DFhTARvpWL4jUGCwfGWxuG5SIf/1y/LgJxHnMqaF6A/ij}
  access-token-expiration: ${JWT_ACCESS_TOKEN_EXPIRATION:3600} # 1 hour in seconds
  refresh-token-expiration: ${JWT_REFRESH_TOKEN_EXPIRATION:86400} # 24 hours in seconds

email:
  from: ${EMAIL_FROM:skillverseexe@gmail.com}
  from-name: ${EMAIL_FROM_NAME:SkillVerse}

cors:
  allowed:
    origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173,http://localhost:3000,http://localhost:52514,https://skillverse.vn,https://www.skillverse.vn}
    methods: ${CORS_ALLOWED_METHODS:GET,POST,PUT,DELETE,OPTIONS,PATCH}
    headers: ${CORS_ALLOWED_HEADERS:*}
  allow:
    credentials: ${CORS_ALLOW_CREDENTIALS:true}
  max:
    age: ${CORS_MAX_AGE:3600}

# Payment Gateway Configuration
payment:
  payos:
    client-id: ${PAYOS_CLIENT_ID:dd239d22-5ff6-4113-bc74-8c71f55147fd}
    api-key: ${PAYOS_API_KEY:9f1a0f8b-fbae-495a-b2f6-52e72ac155ca}
    checksum-key: ${PAYOS_CHECKSUM_KEY:e53324608b59a5614972388adfc79b36b12c2ae5e141470a0d51b82ca6bebc92}
    base-url: ${PAYOS_BASE_URL:https://api-merchant.payos.vn}
    webhook-url: ${PAYOS_WEBHOOK_URL:http://localhost:8080/api/v1/payments/callback/payos}

# Premium Subscription Configuration
premium:
  plans:
    # Auto-create premium plans on startup (for development)
    auto-create: ${PREMIUM_AUTO_CREATE_PLANS:true}

  subscription:
    # Default subscription settings
    default-currency: VND
    reminder-days-before-expiry: 7
    grace-period-days: 3

    # Student discount settings
    student-email-domains:
      - .edu
      - .edu.vn
      - .ac.uk
      - university.
      - student.

springdoc:
  api-docs:
    enabled: ${SPRINGDOC_API_DOCS_ENABLED:true}
    path: ${SPRINGDOC_API_DOCS_PATH:/v3/api-docs}
  swagger-ui:
    enabled: ${SPRINGDOC_SWAGGER_UI_ENABLED:true}
    path: ${SPRINGDOC_SWAGGER_UI_PATH:/swagger-ui.html}

server:
  port: ${SERVER_PORT:8080}
